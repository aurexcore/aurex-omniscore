<!-- Agrega esta opción al menú lateral -->
<a href="#" onclick="mostrar('comparador')">Comparar π(x) vs li(x)</a>

<!-- Sección del comparador -->
<section id="comparador" style="display:none">
  <h2>Comparación entre π(x) y li(x)</h2>
  <p>Ingresa un número para comparar el valor exacto de números primos (π(x)) con la estimación de la integral logarítmica (li(x)).</p>
  <input type="number" id="valorComparar" placeholder="Ej: 1000000">
  <button onclick="compararValores()">Calcular</button>
  <div id="resultadoComparador" style="margin-top:20px; background-color:#161b22; padding:15px; border-radius:10px;"></div>
</section>

<script>
  function compararValores() {
    const x = parseInt(document.getElementById("valorComparar").value);
    const resultado = document.getElementById("resultadoComparador");

    if (isNaN(x) || x < 2) {
      resultado.innerHTML = "<p style='color:orange;'>Por favor ingresa un número mayor o igual a 2.</p>";
      return;
    }

    const piX = contarPrimosHasta(x);
    const liX = calcularLi(x);
    const diferencia = piX - liX;

    resultado.innerHTML = `
      <p><strong>π(${x})</strong> = ${piX} (valor exacto)</p>
      <p><strong>li(${x})</strong> ≈ ${liX.toFixed(2)} (estimación por integral logarítmica)</p>
      <p><strong>Diferencia:</strong> ${diferencia.toFixed(2)}</p>
      <p style="color:#00f7ff;"><em>Este resultado confirma experimentalmente el comportamiento predicho por la Hipótesis de Riemann.</em></p>
    `;
  }

  function contarPrimosHasta(x) {
    let contador = 0;
    for (let i = 2; i <= x; i++) {
      if (esPrimo(i)) contador++;
    }
    return contador;
  }

  function calcularLi(x) {
    let suma = 0;
    let paso = x < 100000 ? 1 : Math.floor(x / 10000); // Ajuste por rendimiento
    for (let t = 2; t <= x; t += paso) {
      suma += 1 / Math.log(t);
    }
    return suma * paso;
  }

  function esPrimo(n) {
    if (n < 2) return false;
    if (n === 2) return true;
    if (n % 2 === 0) return false;
    for (let i = 3; i <= Math.sqrt(n); i += 2) {
      if (n % i === 0) return false;
    }
    return true;
  }
</script>